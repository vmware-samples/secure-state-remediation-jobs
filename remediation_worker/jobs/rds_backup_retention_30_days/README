# Make RDS backup retention period 30 days

This job makes the RDS backup retention period 30 days if the current backup retention period is less than 30 days.
It first tries to modify the retention period of the DB instance.
If that fails, it will try to set the retention period of the DB cluster that the instance belongs to.

## Getting Started

### Prerequisites

The provided AWS credential must have access to `rds:ModifyDBCluster` and `rds:ModifyDBInstance`.

You may find the latest example policy file [here](minimum_policy.json).

### Running the script

You may run this script using following commands:
```shell script
  pip install -r ../../requirements.txt
  python3 rds_backup_retention_30_days.py
```

## Running the tests
You may run test using following command under vss-remediation-worker-job-code-python directory:
```shell script
    python3 -m pytest test
```

## Contributing

TODO: Add contributing.md
An example could be find here:
Please read [CONTRIBUTING.md](https://gist.github.com/PurpleBooth/b24679402957c63ec426) for details on our code of conduct, and the process for submitting pull requests to us.

## Versioning

We use [SemVer](http://semver.org/) for versioning. For the versions available, see the [tags on this repository](https://github.com/your/project/tags).

## Authors

* **VMware Secure State** - *Initial work*

See also the list of [contributors](https://github.com/your/project/contributors) who participated in this project.

## License

This project is licensed under the Apache License - see the [LICENSE](https://github.com/vmware-samples/secure-state-remediation-jobs/blob/master/LICENSE.txt) file for details
